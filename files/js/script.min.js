window.FOS=window.FOS||{},FOS.item=FOS.item||{},FOS.item.rangeSlider=FOS.item.rangeSlider||{},FOS.item.rangeSlider.init=function(e,t){e.keyboardSupport=!0,e.direction="ltr",e.ticksStepped=!0,e.clickOnTicks=!0,e.tickPercentages=null,e.tickValues=null,t&&"function"==typeof t&&t.call(this,e);const n="fos-rangeslider-change";let i,r=document.getElementById(e.itemName),l=e.type,a=e.handles;const o="number"==l,u=o?null:e.dateFormat;let m=o?function(){let t,n=e.numberFormat;n?("decimals"in n||(n.decimals=0),"mark"in n||(n.mark="."==n.thousand?",":"."),t=n):t={decimals:0};return t}():null,s=o?wNumb(m):{to:b,from:V},c=o?parseFloat(e.minimumValue):e.minimumValue,f=o?parseFloat(e.maximumValue):e.maximumValue,p=o?c:V(e.minimumValue),d=o?f:V(e.maximumValue),g=function(){let t=e.value;1==a?t=o?null!=t?parseFloat(t):p:null!=t?V(t):p:o?(t[0]=null!=t[0]?parseFloat(t[0]):p,t[1]=null!=t[1]?parseFloat(t[1]):d):(t[0]=null!=t[0]?V(t[0]):p,t[1]=null!=t[1]?V(t[1]):d);return t}(),y=[],h=function(){let t={},n=e.step;if("monthly"==n||"yearly"==n){let e,i=moment(p),r=moment(d),l="monthly"==n?"M":"y",a=i.add(1,l),o=[];for(;a.isBefore(r);)o.push(a.toDate().getTime()),a=a.add(1,l);if(a.isAfter(r)){let e=o.pop();if(e)f=new Date(e).toJSON(),d=e;else{let e=a.toDate();f=e.toJSON(),d=e.getTime()}}e=100/(o.length+1),e<100?(o.forEach(((n,i)=>{let r=(o[i+1]||d)-n;t[e*(i+1)+"%"]=[n,r]})),t.min=[p,o[0]-p],t.max=[d]):(t.min=[p,d-p],t.max=[d])}else t.min=p,t.max=d;return t}(),k=Array.isArray(e.tickPercentages)?"positions":Array.isArray(e.tickValues)?"values":"count",S={range:h,keyboardSupport:e.keyboardSupport,margin:e.flipRange?null:e.margin,orientation:e.orientation,step:function(){let t=e.step;if(o)return Number(t);if("monthly"==t||"yearly"==t)return null;{const e=36e5;let n;switch(t){case"daily":n=24*e;break;case"weekly":n=168*e}return n}}(),start:function(){let e;e=1==a?[o?g:V(g)]:o?g.map(Number):g.map(V);return e}(),limit:e.flipRange?null:e.rangeLimit&&"date"!=l&&2==a?parseInt(e.rangeLimit):null,connect:e.connectBar&&1==a?"lower":e.connectBar,direction:e.direction,behaviour:e.flipRange?"unconstrained-tap":"tap-drag",tooltips:e.tooltip?1==a?[s]:[s,s]:null,format:s,pips:!!e.showTicks&&{stepped:e.ticksStepped,density:2,format:s,values:"positions"==k?e.tickPercentages:"values"==k?e.tickValues:e.ticks,mode:k}};if(i=noUiSlider.create(r,S),i.on("set",(t=>{let i=F(),r=!1;if(r=function(e){if(1==a&&g!=e[0])return g=e[0],!0;if(2==a&&(g[0]!=e[0]||g[1]!=e[1]))return g=[...e],!0;return!1}(t=t.map(s.from)),r){let t=F();if(function(t,i){apex.event.trigger("#"+e.itemName,n,{oldValue:t,newValue:i})}(i,t),y.length){let e,n,i=y[0],r=y[1];i&&(e=i.getValue(),n=1==a?t:t[0],e!=String(n)&&i.setValue(n)),r&&(e=r.getValue(),n=t[1],e!=String(n)&&r.setValue(n))}}})),e.connectBar&&(r.querySelector(".noUi-connect").style.background=e.rangeColor),e.showTicks&&e.clickOnTicks){let t=r.querySelector(".noUi-pips"),n=d-p;t.addEventListener("click",(i=>{let r,l=t.getBoundingClientRect(),a=i.target.dataset.value;if(null!=a)A(a);else{if("horizontal"==e.orientation){let e=l.left,t=l.width;r=Math.min(t,Math.max(0,i.clientX-e))/t}else{let e=l.top,t=l.height;r=Math.min(t,Math.max(0,i.clientY-e))/t}A(p+r*n)}}))}if(e.retItems){let t=e.retItems.split(",");t.length>a&&(t.length=a);for(let e=0;e<t.length;e++)N(t[e],e)}function V(e){let t;if("string"==typeof e){if(e==Number(e))return Number(e);e=function(e){let t=moment.utc(e,moment.ISO_8601);return t.isValid()?new Date(t):moment.utc(e,u).toDate()}(e)}return t=new Date(e).getTime(),isNaN(t)?p:t}function b(e){return moment(e).format(u)}function w(e){if("number"==typeof e)return s.to(e);if(e instanceof Date)return V(e);if("string"==typeof e){let t=e.split(":");return t=t.map((e=>{let t=Number(e);return t==e?s.to(t):e})),1==t.length?t[0]:t}}function A(e){i.set(w(e))}function F(){if(o){let e=wNumb({decimals:m.decimals,mark:m.mark});return Array.isArray(g)?g.map(e.to):e.to(g)}return Array.isArray(g)?g.map(b):b(g)}function N(e,t){let n=apex.item(e),r=F();function l(){let e=n.getValue(),r=F();r=1==a?r:r[t];let l=o?s.from(e):V(e);if(l>d)n.setValue(o?d:s.to(f));else if(l<p)n.setValue(o?p:s.to(c));else if(e!=String(r)){let n=w(e);t?i.set([null,n]):i.set([n,null])}}y[t]=n,""!=n.getValue()?l():n.setValue(Array.isArray(r)?r[Math.min(t,r.length-1)]:r),$(n.node).on("change",l)}apex.item.create(e.itemName,{setValue:A,getValue:function(){let e=F();return Array.isArray(e)?e.join(":"):e},getRawValue:function(){return g},disable(){r.setAttribute("disabled",!0)},enable(){r.removeAttribute("disabled")},getSliderCmp:()=>i})};
//# sourceMappingURL=script.js.map

